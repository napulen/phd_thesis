% Copyright 2022 Néstor Nápoles López

Given the set $C$ of pitch classes in the Western chromatic
scale $C = \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 \}$, a
pitch class set (\gls{pcset}) is, in the context of this
dissertation, a subset $\elpcset \subset C$ comprising the
pitch classes of a given triad or seventh chord. Several
chord labels and/or \gls{rna} annotations may share the same
\gls{pcset}, as shown in \refeq{pcset_collision}.

\begin{equation}
    \label{eq:pcset_collision}
    \begin{split}
        \text{pcset}(\rnwkey{C}{\rnviihosev}) &= \{2, 5, 9, 11 \}\\
        \text{pcset}(\rnwkey{a}{\rniihosev}) &= \{2, 5, 9, 11 \}
    \end{split}
\end{equation}

One of the advantages of formulating a vocabulary of chords
$\setpcset$ based on \gls{pcset}s, instead of a vocabulary
of chords $\setrna$ based on all \gls{rna} labels is that,
because of the collisions of many chords in terms of their
\gls{pcset}, $| \setpcset | \ll | \setrna |$. The main
disadvantage of this is of course that many \gls{rna} labels
will result in the same \gls{pcset}, which is not very
useful. Nevertheless, using the musical key and the
algorithm described in
\refsec{analgorithmtoresolveromannumeralsfromapitch-classsetandkey}
it is possible to retrieve the original numerator of the
\gls{rna} annotation.


In a \gls{12tet} system, the same collection of pitch
classes may have different chord labels and/or \gls{rna}
labels. For example, the set of pitch classes $\{0$, $4$,
$7\}$ may be called a ``C major'' chord, or a ``B$\musSharp$
major'' chord; in \gls{rna}, it is called $\rnV$ if it
appears in the context of the $F$ major key, or $\rnN$ if it
appears in the context of the $b$ minor key. However, in all
of those instances, the collection of pitch classes is the
same. The attribute that disambiguates the different names
of that pitch class set is the key context.

The proposed method assumes that a \gls{rna} label can
always be disambiguated from a \gls{pcset} and a key. For
each pair of \gls{pcset} and key attributes, there is at
most one associated \gls{rna} label.\footnote{There could be
pairs of \gls{pcset} and key for which there is no \gls{rna}
label associated.}

When the bounded vocabulary of keys (see
\refsec{thevocabularyofmusicalkeys}) and bounded vocabulary
of Roman numerals (see
\refsec{thevocabularyofromannumerals}) are combined, the
resulting vocabulary is a bounded vocabulary of \gls{pcset}
classes.

This results in a set of 121 pitch class sets.

\begin{equation}
    \begin{split}
    \setpcset_M &= \{ \elpcset \mid \elpcset \text{ is the \gls{pcset} of }
    \elkey\text{:}\elnum, \text{ and }
    \elkey \in \setkey_M \text{ and } \elnum \in \setnum_M  \} \\
    \setpcset_m &= \{ \elpcset \mid \elpcset \text{ is the \gls{pcset} of }
    \elkey\text{:}\elnum, \text{ and }
    \elkey \in \setkey_m \text{ and } \elnum \in \setnum_m  \} \\
    \setpcset &= \setpcset_M \cup \setpcset_m \\
    | \setpcset | &= 121 \\    
    \end{split}
\end{equation}
