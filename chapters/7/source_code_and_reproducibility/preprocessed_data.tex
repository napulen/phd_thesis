% Copyright 2022 Néstor Nápoles López

The aggregated dataset is processed in two sequential steps:
a ``human-friendly'' \gls{tsv} file and a
``machine-friendly'' tensor of sequences. The \gls{tsv} file
is generated by processing \gls{musicxml} and
\gls{romantext} source files with the \code{music21}
\textcite{cuthbert2010music21} and \code{pandas}
\missing{citation to pandas} packages into a ``tabular''
representation. During this process, the objective metrics
are computed and stored in the \gls{tsv} file, which makes
it easier to spot files that may be misaligned or present
bad quality annotations. The tensor of sequences, written as
a binary \code{numpy} multidimensional array is generated by
encoding each \gls{tsv} file into a numeric representation.
The encoding of these tensors are based on the definition of
the input (\gls{bass19}, \gls{chroma19}, and
\gls{duration14}) and output (\gls{alto35}, \gls{bass35},
\gls{harmonicrhythm7}, \gls{localkey35}, \gls{pcset121},
\gls{rn31}, \gls{soprano35}, \gls{tenor35}, and
\gls{tonicization35}) representations.

The generation of the initial \gls{tsv} file is generally
slower\footnote{\missing{exact computation time}} and does
not change often. The generation of the tensor sequences is
generally faster and changes frequently for experimentation.
Thus, a preprocessed collection of \gls{tsv} files is
distributed with each of the releases of the system. This
can be used to reproduce the results of the experiments
presented here or to facilitate the exploration of new tonal
tasks or input/output representations.
