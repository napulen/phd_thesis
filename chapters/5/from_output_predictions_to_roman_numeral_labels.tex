% Copyright 2022 Néstor Nápoles López

Although the predictions provided by the \gls{crnn} are
crucial to determine the \gls{rna} labels generated by the
\gls{arna} model, there is another important step left,
which is to turn those predictions into \gls{rna} labels. In
order to generate the final \gls{rna} labels, an algorithm
was designed to resolve them based on three pieces of
information: 
\begin{enumerate}
    \item a \gls{pcset} $\rho \in \setpcset$
    \item a key $k \in \setkey$
    \item an inversion $i \in$ $\{$ $0$, $1$, $2$, $3$ $\}$
\end{enumerate}

With these three pieces of information, the \algorithmrn{}
algorithm will produce a Roman numeral numerator $\eta \in
\setnum$.

There is not a unique way to do this, because multiple tasks
provide similar information. For example, the \gls{satb35}
tasks and the \gls{pcset121} task can both be used to
retrieve the chord. These different tasks are often
advantageous in different musical situations. They might
also require a different postprocessing.

Thanks to the approach followed to resolve \gls{rna} labels
from \gls{pcset}s and keys, these are the main two pieces of
information needed from the predictions of the neural
network to generate a final \gls{rna} string. There are,
however, a few exceptions.

The \gls{satb35}, \gls{pcset121}, and \gls{rn31} tasks can
all be used to retrieve the \gls{pcset}.


% In this section, three methods for processing the
% predictions are presented. The first method, dubbed the
% ``conventional'' method, is the one introduced by
% \textcite{chen2018functional}. The second method is a
% method dubbed the ``common Roman numerals'' method,
% introduced in \textcite{napoleslopez2021augmentednet}.
% Lastly, the third method is the proposed method in this
% \thesisdiss{}, which makes use of the nine multitask
% learning predictions presented in
% \refsubsec{proposedtasks}.

% \phdfigure[All the pitch-class sets associated with the
% key of C major]{pcset_key_to_rn} \phdfigure[All the keys
% where the pitch-class set (0, 4, 7) has a
% role]{pcset_pcset_to_rn} \phdfigure[All the keys that have
% a \gls{rna} of $\rn{I}$]{pcset_rn_to_key}

% The method by \textcite{chen2018functional} to reconstruct
% the \gls{rna} labels relied on five of the six
% conventional tasks described in
% \refsubsec{conventionaltasks}. In their paper,
% \textcite{chen2018functional} did not discuss how these
% predictions were processed to obtain Roman numeral labels
% all the way to the output, however, it is possible to use
% them in the following way.

% In \textcite{napoleslopez2021augmentednet}, the \gls{rna}
% labels were reconstructed using either the
% ``conventional'' method or a feature called the
% \emph{CommonRomanNumerals75}.

% The \emph{CommonRomanNumerals75} indicated the 75-most
% common classes of Roman numerals labels. These labels were
% stripped from the inversion information, but not of
% secondary degrees. That is, the list of 75 labels spanned
% the 75-most common Roman numeral strings collapsed to
% their root position form.

% In this case, the reconstruction of Roman numerals was
% slightly different.
