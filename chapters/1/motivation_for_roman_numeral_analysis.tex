% Copyright 2022 Néstor Nápoles López

One of the most common ways to analyze a piece of tonal
music is through \gls{rna}. This is a notation that is
compact enough to be annotated within a regular musical
score, yet encodes explanations to advanced musical concepts
that would require much more words and effort to describe
otherwise. In order to illustrate this more visually,
consider the musical example in
\reffig{op28no20_intro_analysis}. In this example, Chopin's
Prelude Op. 28 No. 20, two successions of chords can be seen
in measures 2 and 12 with their corresponding \gls{rna}
annotations (below the staff) and chord labels (above the
staff). Although the note arrangement and chord labels of
the first two chords ($\pitchAb$ major and $\pitchDb$ major,
highlighted in green in the figure) are identical, their
\gls{rna} labels are not. This is because in \gls{rna}, not
only the chords are important, but also the context of the
musical key.

\phdfigure[Musical analysis of two successions of chords
within Chopin's Op.~28 No.~20. The first succession occurs
in measure 2. The second one in measure 12. Both successions
begin with the same chords, however, their \gls{rna} labels
are different]{op28no20_intro_analysis}

In the first instance (i.e., m.~2), the chords can be
analyzed in the context of the $\keyAb$ major key. The first
and second chord, $\pitchAb$ major and $\pitchDb$ major, are
a tonic and subdominant chords, respectively. These are
followed by the third chord, a dominant seventh chord
($\pitchEb\rnseven$ dominant seventh), and the fourth chord,
a tonic triad again ($\pitchAb$ major). In the second
succession of chords (i.e., m.~12), these can be analyzed in
the context of the $\keyc$ minor key, which is the main key
of the piece. Here, the first chord ($\pitchAb$ major) is a
submediant chord and the second chord ($\pitchDb$ major) is
a flattened second degree, commonly known as a
\gls{neapolitan}.\footnote{Although this chord is expressed
here as $\musFlat{}\rn{II}$, it is more commonly represented
as $\rnN$ in \gls{rna}.} The third chord is a dominant
seventh chord ($\pitchG\rnseven$ dominant seventh), and the
last chord is the tonic of the piece, $\pitchC$ minor.

Thus, annotating a musical score with \gls{rna} requires the
analysis of several attributes related to chords and keys.
Regarding chords, it is important to analyze their root,
quality, inversion, and function. Regarding keys, it is
suitable to analyze their temporal scope as modulations or
tonicizations. All of this information is accomodated in a
compact text representation, as shown in
\reffig{op28no20_intro_analysis}. This compactness is maybe
the reason why a number of musicians have adopted the
notation throughout the years. The Roman numeral notation
can describe complex---sometimes exotic, like the
\gls{neapolitan}---chords, fluctuations of musical key, and
other tonal situations using a few symbols. This is also
motivating from the computational perspective, as it is
possible to encode and retrieve such tonal information from
the annotations. Clearly, if an \gls{rna} label is computed
automatically, these tonal attributes become automatically
available too for musical applications. An important caveat,
of course, is that because each of these labels requires
various layers of musical analysis, it is a challenging
problem to retrieve them automatically via a computational
model.

% Something interesting about these two successions is that
% they start with the same two chords. Namely, an $\pitchAb$
% major triad, and a $\pitchDb$ major triad. However, the
% musical key in both instances can be interpreted
% differently. In \gls{rna}, this differing key context is
% important, and part of the information that the analyst
% captures in the annotations.

% In the first instance (i.e., m.~2), the chords can be
% analyzed in the context of the $\keyAb$ major key. The
% first and second chord, $\pitchAb$ major and $\pitchDb$
% major, are a tonic and subdominant chords, respectively.
% These are followed by the third chord, a dominant seventh
% chord ($\pitchEb\rnseven$ dominant seventh), and the
% fourth chord, a tonic triad again ($\pitchAb$ major). In
% \gls{rna}, we express this as the sequence of Roman
% numeral labels in \refeq{succession1}.

% \begin{equation} \label{eq:succession1}
%     \rnwkey{\keyAb}{\rnI} \quad \rnIV \quad \rnV\rnseven
%     \quad \rnI \end{equation}

% In the second succession of chords (i.e., m.~12), these
% can be analyzed in the context of the $\keyc$ minor key,
% which is the global key of the piece. Here, the first
% chord ($\pitchAb$ major) is a submediant chord and the
% second chord ($\pitchDb$ major) is a flattened second
% degree, commonly known as a
% \gls{neapolitan}.\footnote{Although this chord is
% expressed here as $\musFlat{}\rn{II}$, it is more commonly
% represented as $\rnN$ in \gls{rna}.} The third chord is a
% dominant seventh chord ($\pitchG\rnseven$ dominant
% seventh), and the last chord is the tonic of the piece,
% $\pitchC$ minor. In \gls{rna}, this succession is
% expressed as in \refeq{succession2}.

% \begin{equation} \label{eq:succession2}
%     \rnwkey{\keyc}{\rnVI} \quad \musFlat{}\rn{II} \quad
%     \rnV\rnseven \quad \rni \end{equation}

